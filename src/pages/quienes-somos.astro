---
// quienes-somos.astro - Refactorizado usando BaseLayout

// Layout
import BaseLayout from "../layouts/BaseLayout.astro";

// Importar im√°genes locales espec√≠ficas para esta p√°gina
import panoramica1 from "../assets/images/work/panoramica1.jpeg";
import obra1 from "../assets/images/work/obra1.jpeg";

// Componentes espec√≠ficos para esta p√°gina
import HeroSection from "../components/HeroSection.astro";
import SectionTitle from "../components/ui/SectionTitle.astro";
import SectionInfo2 from "../components/ui/SectionInfo2.astro";
import ServiceCard from "../components/ui/ServiceCard.astro";
import TitleSectionInfo from "../components/TitleSectionInfo.astro";
import ProjectShowcase from "../components/ui/ProjectShowcase.astro";

// L√≥gica espec√≠fica para Strapi
import strapi from "../utils/strapi";
import type {
  TitleSectionInfo as TitleSectionInfoType,
} from "../types/strapi";
import ColorBorderCard from "../components/ui/ColorBorderCard.astro";

// Props espec√≠ficas para el Layout de Qui√©nes Somos
const layoutProps = {
  pageTitle: "Qui√©nes Somos",
  metaDescription:
    "Conoce a SJT Contratistas S.A. de C.V., empresa especializada en construcci√≥n, obra civil, terracer√≠as, electromec√°nica y desarrollo de proyectos con m√°s de 20 a√±os de experiencia en el sureste mexicano.",
  showBreadcrumb: false,
  breadcrumbItems: [
    { href: "/", text: "Inicio" },
    { href: "/quienes-somos", text: "Qui√©nes Somos" },
  ],
  showContact: true,
  contactConfig: {
    highlightText: "contacto de negocios",
    title: "¬øLISTO PARA TU PR√ìXIMO PROYECTO?",
    subtitle:
      "Contacta directamente a nuestro equipo de negocios para discutir tu proyecto y obtener una propuesta personalizada.",
    phone: "(99) 31 67 44 90",
    email: "asastre@sjtcontratistas.com",
    address: "C.P. Alberto Sastre Arias - Contacto de Negocios",
    accentColor: "var(--orange)",
    backgroundColor: "bg-dark",
    placeholder: "Describe tu proyecto...",
    buttonText: "Enviar",
  },
};

// Obtener contenido espec√≠fico para Qui√©nes Somos
let filosofiaSectionData: TitleSectionInfoType | null = null;
let visionSectionData: TitleSectionInfoType | null = null;
let misionSectionData: TitleSectionInfoType | null = null;
let valoresSectionData: TitleSectionInfoType | null = null;
let error: string | null = null;

try {
  // Title Section Info data - Secci√≥n "Filosof√≠a"
  console.log("üîç Obteniendo title-section-info: somos-filosofia");
  filosofiaSectionData = await strapi.getTitleSectionInfoByIdentifier("somos-filosofia");
  
  // Title Section Info data - Secci√≥n "Visi√≥n"
  console.log("üîç Obteniendo title-section-info: somos-vision");
  visionSectionData = await strapi.getTitleSectionInfoByIdentifier("somos-vision");
  
  // Title Section Info data - Secci√≥n "Misi√≥n"
  console.log("üîç Obteniendo title-section-info: somos-mision");
  misionSectionData = await strapi.getTitleSectionInfoByIdentifier("somos-mision");
  
  // Title Section Info data - Secci√≥n "Valores"
  console.log("üîç Obteniendo title-section-info: somos-valores");
  valoresSectionData = await strapi.getTitleSectionInfoByIdentifier("somos-valores");
} catch (e) {
  error = e instanceof Error ? e.message : "Error loading data";
  console.error("‚ùå Error cargando datos:", error);
}

// ========================================
// PROPUESTA ALTERNATIVA: VALORES CON PROJECTSHOWCASE
// ========================================
const valoresShowcaseData = {
  title: "Nuestros Valores Corporativos",
  subtitle: "Principios Fundamentales",
  description: "En SJT Contratistas, nuestros valores son el fundamento de cada proyecto y relaci√≥n que construimos. Estos principios nos definen como empresa y gu√≠an cada decisi√≥n que tomamos, asegurando que nuestro trabajo contribuya positivamente al desarrollo de las comunidades donde operamos.",
  category: "Valores Empresariales",
  location: "Sureste Mexicano",
  year: "Desde 20XX",
  client: "",
  heroImage: panoramica1,
  heroImageAlt: "Equipo SJT Contratistas trabajando en proyecto",
  categoryColor: "var(--blue)",
  stats: [
    { value: "7", label: "Valores Fundamentales" },
    { value: "100%", label: "Integridad Garantizada" },
    { value: "X+", label: "A√±os de Experiencia" },
    { value: "‚àû", label: "Compromiso Continuo" },
  ],
  highlights: [
    "Compromiso total con nuestros colaboradores y su desarrollo profesional",
    "Innovaci√≥n constante en nuestros procesos y metodolog√≠as de trabajo",
    "Confianza y credibilidad construida con cada uno de nuestros clientes",
    "Excelencia en cada proyecto, sin importar su magnitud o complejidad",
    "Transparencia absoluta en todas nuestras relaciones comerciales",
    "Integridad y rectitud como pilares fundamentales de nuestro actuar",
    "Respeto profundo por la comunidad y el medio ambiente en cada obra"
  ],
};
---

<BaseLayout {...layoutProps}>
  <!-- ========================================= -->
  <!-- CONTENIDO ESPEC√çFICO DE QUI√âNES SOMOS -->
  <!-- ========================================= -->

  <!-- Hero Section -->
  <HeroSection
    name_company="SJT Contratistas S.A. de C.V."
    subtitle="Especialistas en Construcci√≥n, Obra Civil y Desarrollo de Proyectos"
    showOverlay={false}
    titlePosition="center"
    backgroundImage={panoramica1.src}
  />

  <!-- Pol√≠tica Integral desde Strapi -->
  {filosofiaSectionData ? (
    <TitleSectionInfo
      highlightText={filosofiaSectionData.highlightText}
      title={filosofiaSectionData.title}
      titleSection={filosofiaSectionData.titleSection}
      highlightColor={filosofiaSectionData.highlightColor || "blue"}
      customColor={filosofiaSectionData.customColor}
      alignment={filosofiaSectionData.alignment || "center"}
      size={filosofiaSectionData.size || "lg"}
      description={filosofiaSectionData.description}
      image={filosofiaSectionData.image?.url || obra1.src}
      imageAlt={filosofiaSectionData.imageAlt || filosofiaSectionData.image?.alternativeText}
      imagePosition={filosofiaSectionData.imagePosition || "right"}
      buttonText={filosofiaSectionData.buttonText}
      buttonLink={filosofiaSectionData.buttonLink}
      floatingElement1={filosofiaSectionData.floatingElement1 ? {
        number: filosofiaSectionData.floatingElement1.number,
        title: filosofiaSectionData.floatingElement1.title,
        subtitle: filosofiaSectionData.floatingElement1.subtitle,
        svg: filosofiaSectionData.floatingElement1.svg,
        bgColor: filosofiaSectionData.floatingElement1.bgColor || "bg-blue",
        textColor: filosofiaSectionData.floatingElement1.textColor || "text-white"
      } : undefined}
      floatingElement2={filosofiaSectionData.floatingElement2 ? {
        number: filosofiaSectionData.floatingElement2.number,
        title: filosofiaSectionData.floatingElement2.title,
        subtitle: filosofiaSectionData.floatingElement2.subtitle,
        svg: filosofiaSectionData.floatingElement2.svg,
        bgColor: filosofiaSectionData.floatingElement2.bgColor || "bg-green",
        textColor: filosofiaSectionData.floatingElement2.textColor || "text-white"
      } : undefined}
      backgroundColor={filosofiaSectionData.backgroundColor || "bg-gray-50"}
      sectionClass={filosofiaSectionData.sectionClass || "py-16"}
    />
  ) : (
    <!-- Fallback: Secci√≥n hardcodeada si no hay datos de Strapi -->
    <section class="py-16 bg-gray-50">
      <div class="mx-8 sm:mx-12 lg:mx-16 xl:mx-20 px-0 mb-12">
        <SectionTitle
          highlightText="nuestra filosof√≠a"
          title="Pol√≠tica Integral de Calidad, Medio Ambiente y Seguridad"
          highlightColor="blue"
          alignment="center"
          size="lg"
        />
      </div>

      <SectionInfo2
        title="Compromiso Total con la Excelencia"
        description="SJT Contratistas S.A. de C.V. somos una empresa dedicada a los servicios de obra civil, el√©ctrica y electromec√°nica, comprometidos con la calidad, para lograr la satisfacci√≥n de nuestros clientes y responsable del cuidado al medio ambiente, la seguridad y la salud de todo nuestro personal, proveedores y aliados comerciales en cada uno de nuestros procesos, cumpliendo con los requisitos del cliente y los legales aplicables en materia de la calidad, ambiental, seguridad y salud en el trabajo estableciendo, comunicando y revisando objetivos a todos nuestros colaboradores y partes interesadas para evitar la contaminaci√≥n de los recursos naturales y evitar incidentes o da√±os a la salud en cada servicio, mejorando continuamente la competencia laboral de nuestro recurso humano, los controles operacionales a trav√©s de una cultura de prevenci√≥n."
        image={obra1.src}
        imagePosition="right"
        buttonText="Ver Certificaciones"
        buttonLink="#certificaciones"
        floatingElement1={{
          number: "ISO",
          title: "9001:2015",
          subtitle: "Calidad",
          svg: `<svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9l-5.91.74L12 22l-3.09-6.26L2 15l5.91-.74L12 2z"/></svg>`,
          bgColor: "bg-blue",
          textColor: "text-white",
        }}
        floatingElement2={{
          number: "ISO",
          title: "14001",
          subtitle: "Medio Ambiente",
          svg: `<svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24"><path d="M12 22c5.421 0 9.5-4.187 9.5-9.5S17.421 3 12 3s-9.5 4.187-9.5 9.5S6.579 22 12 22z"/><path d="M8 12l2 2 4-4"/></svg>`,
          bgColor: "bg-green",
          textColor: "text-white",
        }}
      />
    </section>
  )}

  <!-- Mision Section desde Strapi -->
  {misionSectionData ? (
    <TitleSectionInfo
      highlightText={misionSectionData.highlightText}
      title={misionSectionData.title}
      titleSection={misionSectionData.titleSection}
      highlightColor={misionSectionData.highlightColor || "orange"}
      customColor={misionSectionData.customColor}
      alignment={misionSectionData.alignment || "center"}
      size={misionSectionData.size || "lg"}
      description={misionSectionData.description}
      image={misionSectionData.image?.url || obra1.src}
      imageAlt={misionSectionData.imageAlt || misionSectionData.image?.alternativeText}
      imagePosition={misionSectionData.imagePosition || "left"}
      buttonText={misionSectionData.buttonText}
      buttonLink={misionSectionData.buttonLink}
      floatingElement1={misionSectionData.floatingElement1 ? {
        number: misionSectionData.floatingElement1.number,
        title: misionSectionData.floatingElement1.title,
        subtitle: misionSectionData.floatingElement1.subtitle,
        svg: misionSectionData.floatingElement1.svg,
        bgColor: misionSectionData.floatingElement1.bgColor || "bg-orange",
        textColor: misionSectionData.floatingElement1.textColor || "text-white"
      } : undefined}
      floatingElement2={misionSectionData.floatingElement2 ? {
        number: misionSectionData.floatingElement2.number,
        title: misionSectionData.floatingElement2.title,
        subtitle: misionSectionData.floatingElement2.subtitle,
        svg: misionSectionData.floatingElement2.svg,
        bgColor: misionSectionData.floatingElement2.bgColor || "bg-red",
        textColor: misionSectionData.floatingElement2.textColor || "text-white"
      } : undefined}
      backgroundColor={misionSectionData.backgroundColor || "bg-gray-50"}
      sectionClass={misionSectionData.sectionClass || "py-16"}
    />
  ) : (
    <!-- Fallback: Secci√≥n hardcodeada si no hay datos de Strapi -->
    <section class="py-16 bg-gray-50">
      <div class="mx-8 sm:mx-12 lg:mx-16 xl:mx-20 px-0 mb-12">
        <SectionTitle
          highlightText="nuestra misi√≥n"
          title="Construyendo el Futuro con Excelencia"
          highlightColor="orange"
          alignment="center"
          size="lg"
        />
      </div>

      <SectionInfo2
        title="Compromiso y Prop√≥sito"
        description="Brindar servicios integrales de construcci√≥n, obra civil, terracer√≠as y electromec√°nica con los m√°s altos est√°ndares de calidad, seguridad y responsabilidad ambiental. Nos comprometemos a superar las expectativas de nuestros clientes mediante soluciones innovadoras, personal altamente capacitado y tecnolog√≠a de vanguardia, contribuyendo al desarrollo sostenible del sureste mexicano."
        image={obra1.src}
        imagePosition="left"
        buttonText="Ver Servicios"
        buttonLink="/servicios"
        floatingElement1={{
          number: "ISO",
          title: "Certificado",
          subtitle: "Calidad",
          svg: `<svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9l-5.91.74L12 22l-3.09-6.26L2 15l5.91-.74L12 2z"/></svg>`,
          bgColor: "bg-orange",
          textColor: "text-white",
        }}
        floatingElement2={{
          number: "24/7",
          title: "Soporte",
          subtitle: "Disponible",
          svg: `<svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>`,
          bgColor: "bg-red",
          textColor: "text-white",
        }}
      />
    </section>
  )}

  <!-- Vision Section desde Strapi -->
  {visionSectionData ? (
    <TitleSectionInfo
      highlightText={visionSectionData.highlightText}
      title={visionSectionData.title}
      titleSection={visionSectionData.titleSection}
      highlightColor={visionSectionData.highlightColor || "green"}
      customColor={visionSectionData.customColor}
      alignment={visionSectionData.alignment || "center"}
      size={visionSectionData.size || "lg"}
      description={visionSectionData.description}
      image={visionSectionData.image?.url || panoramica1.src}
      imageAlt={visionSectionData.imageAlt || visionSectionData.image?.alternativeText}
      imagePosition={visionSectionData.imagePosition || "right"}
      buttonText={visionSectionData.buttonText}
      buttonLink={visionSectionData.buttonLink}
      floatingElement1={visionSectionData.floatingElement1 ? {
        number: visionSectionData.floatingElement1.number,
        title: visionSectionData.floatingElement1.title,
        subtitle: visionSectionData.floatingElement1.subtitle,
        svg: visionSectionData.floatingElement1.svg,
        bgColor: visionSectionData.floatingElement1.bgColor || "bg-green",
        textColor: visionSectionData.floatingElement1.textColor || "text-white"
      } : undefined}
      floatingElement2={visionSectionData.floatingElement2 ? {
        number: visionSectionData.floatingElement2.number,
        title: visionSectionData.floatingElement2.title,
        subtitle: visionSectionData.floatingElement2.subtitle,
        svg: visionSectionData.floatingElement2.svg,
        bgColor: visionSectionData.floatingElement2.bgColor || "bg-purple",
        textColor: visionSectionData.floatingElement2.textColor || "text-white"
      } : undefined}
      backgroundColor={visionSectionData.backgroundColor || "bg-white"}
      sectionClass={visionSectionData.sectionClass || "py-16"}
    />
  ) : (
    <!-- Fallback: Secci√≥n hardcodeada si no hay datos de Strapi -->
    <section class="py-16 bg-white">
      <div class="mx-8 sm:mx-12 lg:mx-16 xl:mx-20 px-0 mb-12">
        <SectionTitle
          highlightText="nuestra visi√≥n"
          title="L√≠deres en Construcci√≥n y Desarrollo Sostenible"
          highlightColor="green"
          alignment="center"
          size="lg"
        />
      </div>

      <SectionInfo2
        title="Visi√≥n de Futuro"
        description="Ser reconocidos como la empresa l√≠der en construcci√≥n, obra civil y desarrollo de proyectos en el sureste mexicano, destacando por nuestra innovaci√≥n, calidad excepcional y compromiso con el desarrollo sostenible. Aspiramos a ser el socio estrat√©gico preferido de nuestros clientes, contribuyendo al crecimiento de la regi√≥n a trav√©s de proyectos que transformen positivamente las comunidades donde operamos."
        image={panoramica1.src}
        imagePosition="right"
        buttonText="Conocer Proyectos"
        buttonLink="/portafolio"
        floatingElement1={{
          number: "20+",
          title: "A√±os",
          subtitle: "Experiencia",
          svg: `<svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>`,
          bgColor: "bg-green",
          textColor: "text-white",
        }}
        floatingElement2={{
          number: "100+",
          title: "Proyectos",
          subtitle: "Completados",
          svg: `<svg class="w-full h-full" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9l-5.91.74L12 22l-3.09-6.26L2 15l5.91-.74L12 2z"/></svg>`,
          bgColor: "bg-purple",
          textColor: "text-white",
        }}
      />
    </section>
  )} 


 
  <section class="py-16 lg:py-24 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <SectionTitle
          highlightText="propuesta alternativa"
          title="Los Principios que Nos Definen"
          highlightColor="purple"
          alignment="center"
          size="lg"
        />
        <p class="text-xl text-gray-600 max-w-3xl mx-auto mt-6 leading-relaxed">
          M√°s que palabras, nuestros valores son acciones que se reflejan en cada proyecto,
          cada relaci√≥n y cada decisi√≥n que tomamos como empresa.
        </p>
      </div>

      <ProjectShowcase
        title={valoresShowcaseData.title}
        subtitle={valoresShowcaseData.subtitle}
        description={valoresShowcaseData.description}
        category={valoresShowcaseData.category}
        location={valoresShowcaseData.location}
        year={valoresShowcaseData.year}
        client={valoresShowcaseData.client}
        heroImage={valoresShowcaseData.heroImage}
        heroImageAlt={valoresShowcaseData.heroImageAlt}
        categoryColor={valoresShowcaseData.categoryColor}
        stats={valoresShowcaseData.stats}
        highlights={valoresShowcaseData.highlights}
      />
    </div>
  </section>

  <!-- Compromiso Empresarial -->
  <section class="py-16 bg-white">
    <div class=" mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <SectionTitle
        highlightText="nuestro compromiso"
        title="Cultura de Prevenci√≥n y Excelencia"
        highlightColor="orange"
        alignment="center"
        size="lg"
      />

      <div
        class="mt-12 bg-gradient-to-br from-gray-50 to-white p-8 rounded-2xl shadow-lg border border-gray-200"
      >
        <p class="text-lg text-gray-700 leading-relaxed mb-6">
          Con base en nuestra pol√≠tica integral, todos los que colaboramos en la
          empresa, nos comprometemos a cumplir de manera eficaz y efectiva con
          los preceptos antes mencionados, que servir√°n de gu√≠a en la
          realizaci√≥n de nuestras actividades cotidianas y as√≠ mantener la
          calidad de nuestro servicio.
        </p>

        <div class="flex flex-wrap justify-center gap-4 mt-8">
          <ColorBorderCard
          borderColor="var(--orange)"
          backgroundColor="bg-white"
          cardNumber="01"
          text="Calidad certificada"
          />           
          
          <ColorBorderCard
          borderColor="var(--orange)"
          backgroundColor="bg-white"
          cardNumber="02"
          text="Responsabilidad ambiental"
          />          
          
          <ColorBorderCard
          borderColor="var(--orange)"
          backgroundColor="bg-white"
          cardNumber="03"
          text="Seguridad laboral"
          />       
         
          <ColorBorderCard
          borderColor="var(--orange)"
          backgroundColor="bg-white"
          cardNumber="04"
          text="Mejora continua"
          />           
        
        </div>
      </div>
    </div>
  </section>

   <!-- Servicios Principales -->
   <section class="py-16 bg-white">
    <div class="mx-8 sm:mx-12 lg:mx-16 xl:mx-20 px-0 mb-12">
      <SectionTitle
        highlightText="nuestros servicios"
        title="Construcci√≥n, Obra Civil y Desarrollo Integral"
        highlightColor="orange"
        alignment="center"
        size="lg"
      />
    </div>

    <!-- Service Cards Grid -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-8">
        <!-- Construcci√≥n y Obra Civil -->
        <ServiceCard
          area='<path d="M12 3l8 8v9a1 1 0 01-1 1h-6v-6H9v6H3a1 1 0 01-1-1v-9l8-8z"/>'
          serviceName="Construcci√≥n & Obra Civil"
          description="Servicios especializados en construcci√≥n y obra civil con est√°ndares de calidad superiores y cumplimiento normativo integral."
          buttonText="Ver m√°s"
          href="/servicios"
          cardNumber="01"
          iconColor="var(--orange)"
        />

        <!-- Terracer√≠as y Carreteras -->
        <ServiceCard
          area='<path d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 01.553-.894L9 2l6 3 5.447-2.724A1 1 0 0121 3.618v10.764a1 1 0 01-.553.894L15 18l-6-3z"/>'
          serviceName="Terracer√≠as & Carreteras"
          description="Desarrollo y construcci√≥n de carreteras, caminos y terracer√≠as con tecnolog√≠a avanzada y equipos especializados."
          buttonText="Ver m√°s"
          href="/servicios"
          cardNumber="02"
          iconColor="var(--green)"
        />

        <!-- Mec√°nica y Electromec√°nica -->
        <ServiceCard
          area='<path d="M12 2l3.09 6.26L22 9l-5.91.74L12 22l-3.09-6.26L2 15l5.91-.74L12 2z"/><circle cx="12" cy="12" r="3"/>'
          serviceName="Mec√°nica & Electromec√°nica"
          description="Instalaci√≥n, mantenimiento y desarrollo de sistemas mec√°nicos y electromec√°nicos industriales de alta complejidad."
          buttonText="Ver m√°s"
          href="/servicios"
          cardNumber="03"
          iconColor="var(--blue)"
        />

        <!-- Desarrollo de Proyectos -->
        <ServiceCard
          area='<path d="M9 5H7a2 2 0 00-2 2v6a2 2 0 002 2h2m2 0h2a2 2 0 002-2V7a2 2 0 00-2-2h-2m0 4h.01M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/>'
          serviceName="Desarrollo de Proyectos"
          description="Gesti√≥n integral de proyectos desde la conceptualizaci√≥n hasta la entrega, con metodolog√≠as probadas y control total."
          buttonText="Ver m√°s"
          href="/servicios"
          cardNumber="04"
          iconColor="var(--purple)"
        />
      </div>
    </div>
  </section>
</BaseLayout>


